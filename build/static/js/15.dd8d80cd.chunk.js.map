{"version":3,"sources":["views/home/exam/addTest.tsx","webpack:///./src/views/home/exam/css/add.css?3125","views/home/exam/css/add.css"],"names":["Option","__WEBPACK_IMPORTED_MODULE_3_antd__","AddTest","_super","props","_this","call","this","state","list","type","question","getList","Object","__WEBPACK_IMPORTED_MODULE_0_tslib__","getQuestion","data","_a","sent","examType","examtype","subject","setState","handleSubmit","e","preventDefault","form","validateFieldsAndScroll","err","values","start_time","end_time","Date","_d","getTime","examMsg","foundExam","add","history","push","pathname","prototype","componentDidMount","console","log","render","getFieldDecorator","__WEBPACK_IMPORTED_MODULE_1_react__","className","location","title","onSubmit","Item","label","rules","required","message","style","width","map","item","key","exam_id","exam_name","subject_id","subject_text","min","max","showTime","placeholder","htmlType","__WEBPACK_IMPORTED_MODULE_2_mobx_react__","__webpack_exports__","create","content","__webpack_require__","module","i","options","hmr","transform","locals","exports","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/15.dd8d80cd.chunk.js","sourcesContent":["import * as React from 'react';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { Form, Input, Select, DatePicker, Button, InputNumber, Layout } from \"antd\";\r\nimport { WrappedFormUtils } from 'antd/lib/form/Form'\r\nimport './css/add.css'\r\n\r\nconst { Option } = Select;\r\n\r\ninterface Props {\r\n  question: any,\r\n  location: any,\r\n  form: WrappedFormUtils\r\n}\r\n\r\n@inject('question', 'examMsg')\r\n@observer\r\n\r\nclass AddTest extends React.Component<any> {\r\n  constructor(props: Props) {\r\n    super(props)\r\n  }\r\n  state = {\r\n    list: [],\r\n    type: [],\r\n    question: []\r\n  }\r\n  componentDidMount() {\r\n    console.log(this.props)\r\n    this.getList()\r\n  }\r\n\r\n  getList = async () => {\r\n    const data = await this.props.question.getQuestion();\r\n    const examtype = await this.props.question.examType()\r\n    const subject = await this.props.question.subject()\r\n\r\n    this.setState({\r\n      list: data,\r\n      type: examtype,\r\n      question: subject\r\n    })\r\n  }\r\n\r\n  handleSubmit = (e: any) => {\r\n    e.preventDefault();\r\n    this.props.form.validateFieldsAndScroll(async (err:any, values:any) => {\r\n      if (!err) {\r\n        const { start_time, end_time } = values\r\n        values.start_time = new Date(start_time._d).getTime()\r\n        values.end_time = new Date(end_time._d).getTime()\r\n        const add=await this.props.examMsg.foundExam(values)\r\n        this.props.history.push({pathname:'/home/edit',state:add})\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n    return (\r\n      <Layout className=\"addquersition\">\r\n        <h2>{this.props.location.state.title}</h2>\r\n\r\n        <Form onSubmit={this.handleSubmit} className=\"addBox\">\r\n          <Form.Item label=\"试卷名称\">\r\n            {getFieldDecorator('title', {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: '请输入试卷名称！',\r\n                }\r\n              ],\r\n            })(<Input className=\"ipt\" />)}\r\n          </Form.Item>\r\n\r\n          <Form.Item label=\"选择考试类型\">\r\n            {getFieldDecorator('exam_id', {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: '请选择考试类型！',\r\n                }\r\n              ],\r\n            })(<Select style={{ width: 130 }}>\r\n              {\r\n                this.state.type.map((item: any) => {\r\n                  return <Option key={item.exam_id}>{item.exam_name}</Option>\r\n                })\r\n              }\r\n            </Select>)}\r\n          </Form.Item>\r\n\r\n          <Form.Item label=\"选择课程\">\r\n            {getFieldDecorator('subject_id', {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: '请选择课程！',\r\n                }\r\n              ],\r\n            })(<Select style={{ width: 130 }}>\r\n              {\r\n                this.state.question.map((item: any) => {\r\n                  return <Option key={item.subject_id}>{item.subject_text}</Option>\r\n                })\r\n              }\r\n            </Select>)}\r\n          </Form.Item>\r\n\r\n          <Form.Item label=\"设置题量\">\r\n            {getFieldDecorator('number', {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: '请设置题量！',\r\n                }\r\n              ],\r\n            })(<InputNumber min={3} max={10} />)}\r\n          </Form.Item>\r\n          <div className=\"time\">\r\n            <Form.Item label=\"考试时间\">\r\n              {getFieldDecorator('start_time', {\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: '请选择考试时间！',\r\n                  }\r\n                ],\r\n              })(<DatePicker showTime placeholder=\"开始时间\" />)}\r\n            </Form.Item>\r\n            <Form.Item>\r\n              <span className=\"span\">-</span>\r\n            </Form.Item>\r\n            <Form.Item label=\"考试时间\">\r\n              {getFieldDecorator('end_time', {\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: '请选择考试时间！',\r\n                  }\r\n                ],\r\n              })(<DatePicker showTime placeholder=\"结束时间\" />)}\r\n            </Form.Item>\r\n          </div>\r\n\r\n          <Form.Item>\r\n            <Button type=\"primary\" htmlType=\"submit\" className=\"addBtn\">创建试卷</Button>\r\n          </Form.Item>\r\n        </Form>\r\n\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default Form.create()(AddTest);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/home/exam/addTest.tsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./add.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/home/exam/css/add.css\n// module id = 1258\n// module chunks = 15","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"*{list-style:none}#components-layout-demo-top-side .logo{width:120px;height:31px;background:hsla(0,0%,100%,.2);margin:16px 28px 16px 0;float:left}.addquersition{width:100%;height:100%;background:#f0f2f5}.addBox{width:100%;height:100%;background:#fff;padding:24px;margin:0 0 20px;border-radius:10px}.addBox .time{display:-ms-flexbox;display:flex}.addBox .span{display:inline-block;width:24px;text-align:center;margin-top:38px;font-size:20px}.opItem{color:rgba(0,0,0,.85)}.opItem b{color:red}.ipt{width:220px;height:32px}.addBtn{padding:0 40px;background:-webkit-gradient(linear,right top,left top,from(#4e75ff),to(#0139fd))!important;background:-webkit-linear-gradient(right,#4e75ff,#0139fd)!important;background:-o-linear-gradient(right,#4e75ff,#0139fd)!important;background:linear-gradient(-90deg,#4e75ff,#0139fd)!important}\", \"\", {\"version\":3,\"sources\":[\"D:/studys/Training-project/src/views/home/exam/css/add.css\"],\"names\":[],\"mappings\":\"AAAA,EACE,eAAiB,CAClB,AAED,uCACE,YAAa,AACb,YAAa,AACb,8BAAqC,AACrC,wBAAyB,AACzB,UAAY,CACb,AAED,eACE,WAAY,AACZ,YAAa,AACb,kBAAoB,CACrB,AAED,QACE,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,aAAc,AACd,gBAAqB,AACrB,kBAAoB,CACrB,AAED,cACE,oBAAqB,AACrB,YAAc,CACf,AAED,cACE,qBAAsB,AACtB,WAAY,AACZ,kBAAmB,AACnB,gBAAiB,AACjB,cAAgB,CACjB,AAED,QACE,qBAA2B,CAC5B,AAED,UACE,SAAW,CACZ,AAED,KACE,YAAa,AACb,WAAa,CACd,AAED,QACE,eAAgB,AAChB,2FAAiG,AACjG,oEAAwE,AACxE,+DAAmE,AACnE,4DAAiE,CAClE\",\"file\":\"add.css\",\"sourcesContent\":[\"* {\\r\\n  list-style: none;\\r\\n}\\r\\n\\r\\n#components-layout-demo-top-side .logo {\\r\\n  width: 120px;\\r\\n  height: 31px;\\r\\n  background: rgba(255, 255, 255, 0.2);\\r\\n  margin: 16px 28px 16px 0;\\r\\n  float: left;\\r\\n}\\r\\n\\r\\n.addquersition {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  background: #f0f2f5;\\r\\n}\\r\\n\\r\\n.addBox {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  background: #fff;\\r\\n  padding: 24px;\\r\\n  margin: 0px 0px 20px;\\r\\n  border-radius: 10px;\\r\\n}\\r\\n\\r\\n.addBox .time {\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n}\\r\\n\\r\\n.addBox .span {\\r\\n  display: inline-block;\\r\\n  width: 24px;\\r\\n  text-align: center;\\r\\n  margin-top: 38px;\\r\\n  font-size: 20px;\\r\\n}\\r\\n\\r\\n.opItem {\\r\\n  color: rgba(0, 0, 0, 0.85);\\r\\n}\\r\\n\\r\\n.opItem b {\\r\\n  color: red;\\r\\n}\\r\\n\\r\\n.ipt {\\r\\n  width: 220px;\\r\\n  height: 32px;\\r\\n}\\r\\n\\r\\n.addBtn {\\r\\n  padding: 0 40px;\\r\\n  background: -webkit-gradient(linear, right top, left top, from(#4e75ff), to(#0139fd)) !important;\\r\\n  background: -webkit-linear-gradient(right, #4e75ff, #0139fd) !important;\\r\\n  background: -o-linear-gradient(right, #4e75ff, #0139fd) !important;\\r\\n  background: linear-gradient(-90deg, #4e75ff, #0139fd) !important;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/views/home/exam/css/add.css\n// module id = 1259\n// module chunks = 15"],"sourceRoot":""}