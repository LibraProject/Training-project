{"version":3,"sources":["views/login/index.tsx","webpack:///./src/scss/login.css?69fe","scss/login.css"],"names":["UserForm","_super","_this","apply","this","arguments","handleSubmit","e","preventDefault","props","form","validateFields","err","values","Object","__WEBPACK_IMPORTED_MODULE_0_tslib__","user","login","_b","sent","_a","code","msg","history","push","__WEBPACK_IMPORTED_MODULE_1_antd__","error","prototype","render","getFieldDecorator","account","user_name","user_pwd","__WEBPACK_IMPORTED_MODULE_2_react__","className","onSubmit","Item","validateTrigger","initialValue","rules","validator","ruler","value","callback","test","prefix","type","style","color","placeholder","valuePropName","href","htmlType","__WEBPACK_IMPORTED_MODULE_3_mobx_react__","__webpack_exports__","create","content","__webpack_require__","module","i","options","hmr","transform","locals","exports","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/16.35b61949.chunk.js","sourcesContent":["import { Button, Checkbox, Form, Icon, Input, message } from 'antd';\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport * as React from 'react';\r\nimport { inject, observer } from 'mobx-react'\r\nimport '../../scss/login.css'\r\n\r\ninterface UserFormProps extends FormComponentProps {\r\n  age: number,\r\n  name: string,\r\n  history: any,\r\n  user: any,\r\n}\r\n\r\n@inject('user')\r\n@observer\r\n\r\nclass UserForm extends React.Component<UserFormProps, any>{\r\n  public handleSubmit = (e: { preventDefault: () => void; }) => {\r\n    e.preventDefault();\r\n    this.props.form.validateFields(async (err, values) => {\r\n      if (!err) {\r\n        // console.log('Received values of form: ', values);\r\n        const res = await this.props.user.login(values);\r\n        const { code, msg } = await this.props.user.login(values);\r\n        if (code === 1) {\r\n          // 跳转路由\r\n          this.props.history.push('/home')\r\n        } else {\r\n          // 提示错误\r\n          message.error(msg || '用户名或密码错误');\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  public render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n    const { user_name, user_pwd } = this.props.user.account;\r\n    \r\n    return (\r\n      <div className=\"box\">\r\n        <div className=\"contents\">\r\n          <Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n            <Form.Item>\r\n              {getFieldDecorator('user_name', {\r\n                validateTrigger: 'onBlur',\r\n                initialValue: user_name,\r\n                rules: [{\r\n                  validator: (ruler, value, callback) => {\r\n                    if (/[a-z]{5,20}/.test(value)) {\r\n                      callback()\r\n                    } else {\r\n                      callback('Please input your username!')\r\n                    }\r\n                  }\r\n                }],\r\n              })(\r\n                <Input\r\n                  prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                  placeholder=\"Username\"\r\n                />,\r\n              )}\r\n            </Form.Item>\r\n            <Form.Item>\r\n              {getFieldDecorator('user_pwd', {\r\n                validateTrigger: 'onBlur',\r\n                initialValue: user_pwd,\r\n                rules: [{\r\n                  validator: (ruler, value, callback) => {\r\n                    if (/^(?![a-z]+$)(?![A-Z]+$)(?!([^(a-zA-Z\\!\\*\\.\\#)])+$)^.{8,16}$/.test(value)) {\r\n                      callback()\r\n                    } else {\r\n                      callback('Please input your Password!')\r\n                    }\r\n                  }\r\n                }],\r\n              })(\r\n                <Input\r\n                  prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                />,\r\n              )}\r\n            </Form.Item>\r\n            <Form.Item>\r\n              {getFieldDecorator('remember', {\r\n                initialValue: true,\r\n                valuePropName: 'checked',\r\n              })(<Checkbox>Remember me</Checkbox>)}\r\n            </Form.Item>\r\n            <Form.Item>\r\n              {getFieldDecorator('autoLogin', {\r\n                valuePropName: 'checked',\r\n                initialValue: true,\r\n              })(<Checkbox>Auto login in 7 days</Checkbox>)}\r\n              <a className=\"login-form-forgot\" href=\"\">\r\n                Forgot password\r\n              </a>\r\n              <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                Login\r\n              </Button>\r\n              Or <a href=\"\">register now!</a>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form.create()(UserForm);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/login/index.tsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../node_modules/postcss-loader/lib/index.js??postcss!./login.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/scss/login.css\n// module id = 1281\n// module chunks = 16","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".box{width:100%;height:100%;background-image:url(\\\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1567490065255&di=e208854dcdb5492631b1ee0b50a5923b&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201305%2F26%2F20130526140022_5fMJe.jpeg\\\");background-size:cover}.contents{position:absolute;right:10%;top:50%;-webkit-transform:translate(-10%,-50%);-ms-transform:translate(-10%,-50%);transform:translate(-10%,-50%)}.login-form{max-width:300px}.login-form-forgot{float:right}.login-form-button{width:100%}.main{background:#f0f2f5}\", \"\", {\"version\":3,\"sources\":[\"D:/studys/Training-project/src/scss/login.css\"],\"names\":[],\"mappings\":\"AACA,KACE,WAAY,AACZ,YAAa,AACb,sPAAuP,AACvP,qBAAuB,CACxB,AACD,UACE,kBAAmB,AACnB,UAAW,AACX,QAAS,AACT,uCAAwC,AACpC,mCAAoC,AAChC,8BAAgC,CACzC,AACD,YACI,eAAiB,CACpB,AACD,mBACE,WAAa,CACd,AACD,mBACE,UAAY,CACb,AACD,MACE,kBAAoB,CAErB\",\"file\":\"login.css\",\"sourcesContent\":[\"\\r\\n.box{\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  background-image: url('https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1567490065255&di=e208854dcdb5492631b1ee0b50a5923b&imgtype=0&src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201305%2F26%2F20130526140022_5fMJe.jpeg');\\r\\n  background-size: cover;\\r\\n}\\r\\n.contents{\\r\\n  position: absolute;\\r\\n  right: 10%;\\r\\n  top: 50%;\\r\\n  -webkit-transform: translate(-10%,-50%);\\r\\n      -ms-transform: translate(-10%,-50%);\\r\\n          transform: translate(-10%,-50%);\\r\\n}\\r\\n.login-form {\\r\\n    max-width: 300px;\\r\\n}\\r\\n.login-form-forgot {\\r\\n  float: right;\\r\\n}\\r\\n.login-form-button {\\r\\n  width: 100%;\\r\\n}\\r\\n.main{\\r\\n  background: #f0f2f5;\\r\\n\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/scss/login.css\n// module id = 1282\n// module chunks = 16"],"sourceRoot":""}